# ==============================================================================
# CDN Configuration Example
# ==============================================================================
# This file demonstrates how to configure CDN for static asset delivery.
# Copy relevant sections to your .env file based on your setup choice.
# ==============================================================================

# ==============================================================================
# Option 1: Local/Development (Default - No CDN)
# ==============================================================================
# Static files served by WhiteNoise, no S3, no CDN
# Best for: Development, testing, local environments

USE_S3=false
USE_CDN=false

# Static files will be served from ./staticfiles directory
# No additional configuration needed


# ==============================================================================
# Option 2: S3 Only (No CDN)
# ==============================================================================
# Static files stored in S3, served directly from S3
# Best for: Small projects, low traffic, cost optimization

USE_S3=true
USE_CDN=false

# AWS S3 Configuration
AWS_STORAGE_BUCKET_NAME=your-ecommerce-static-bucket
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_S3_REGION_NAME=us-east-1

# Optional: S3 Transfer Acceleration (faster uploads, additional cost)
AWS_S3_USE_ACCELERATE=false


# ==============================================================================
# Option 3: S3 + AWS CloudFront CDN
# ==============================================================================
# Static files stored in S3, served via CloudFront CDN
# Best for: Production, global audience, AWS-centric infrastructure

USE_S3=true
USE_CDN=true

# AWS S3 Configuration
AWS_STORAGE_BUCKET_NAME=your-ecommerce-static-bucket
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_S3_REGION_NAME=us-east-1

# CloudFront Configuration
# Run: ./scripts/cdn/setup_cloudfront.sh to get these values
CDN_DOMAIN=d1234567890.cloudfront.net
CDN_DISTRIBUTION_ID=E1234567890ABC

# Optional: S3 Transfer Acceleration
AWS_S3_USE_ACCELERATE=false


# ==============================================================================
# Option 4: S3 + Cloudflare CDN
# ==============================================================================
# Static files stored in S3, served via Cloudflare CDN
# Best for: Production, generous free tier, ease of use

USE_S3=true
USE_CDN=true

# AWS S3 Configuration
AWS_STORAGE_BUCKET_NAME=your-ecommerce-static-bucket
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_S3_REGION_NAME=us-east-1

# Cloudflare Configuration
# Your custom CDN subdomain configured in Cloudflare DNS
CDN_DOMAIN=cdn.yourdomain.com

# Optional: Cloudflare API credentials (for automated cache purging)
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
CLOUDFLARE_ZONE_ID=your-cloudflare-zone-id


# ==============================================================================
# Additional Configuration (All Options)
# ==============================================================================

# Django Settings
SECRET_KEY=your-super-secret-key-change-this-in-production
DEBUG=false
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com

# Database
DATABASE_URL=postgres://user:password@localhost:5432/dbname

# Redis
REDIS_URL=redis://localhost:6379/0

# Email
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=true
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-email-password

# Frontend
FRONTEND_URL=https://yourdomain.com
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com


# ==============================================================================
# Security Settings (Production)
# ==============================================================================

# Sentry (Error Tracking)
SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0
SENTRY_ENVIRONMENT=production

# Vault Integration (Optional)
USE_VAULT=false
VAULT_ADDR=http://vault:8200
VAULT_TOKEN=your-vault-token


# ==============================================================================
# Deployment Commands
# ==============================================================================
# After configuring CDN, run:
#
# 1. Collect static files:
#    python manage.py collectstatic --noinput
#
# 2. Deploy to CDN:
#    ./scripts/cdn/deploy_static_files.sh production
#
# 3. Test CDN delivery:
#    ./scripts/cdn/test_cdn_delivery.sh your-cdn-domain
#
# ==============================================================================
